{% extends 'base.html' %} 
{% load static %} 

{% block head_title %}Library Management System{% endblock %} {% block content %}
<div class="container mx-auto flex flex-col md:flex-row items-center my-12 md:my-24">
    
    <!-- Your welcome section -->
    <div class="flex flex-col w-full lg:w-1/2 justify-center items-start pt-12 pb-24 px-6 bg-white rounded-2xl bg-opacity-70 mx-3">
        <h1 class="font-bold text-4xl my-4">Welcome to Open Library</h1>
        <p class="leading-normal mb-4">
            This is a simple Mamar Bank where you can deposit money, withdraw money, take a loan. You can also create an account, login, logout. Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed nemo quaerat quo dicta, adipisci eum fuga ratione id numquam eius veniam placeat voluptatum, itaque tempora molestias vel, blanditiis fugiat ipsam!
        </p>
        <div class="flex justify-end w-full">
            <a href="{% url 'register' %}" class="bg-blue-900 text-white rounded-none hover:bg-white hover:text-blue-900 hover:border-blue-900 shadow hover:shadow-lg py-2 px-4 border border-gray-900 hover:border-transparent">Register</a>
        </div>
    </div>

    <!-- Your image section -->
    <div class="w-full lg:w-1/2 lg:py-6 text-center ">
        <img class="rounded-2xl" src="{% static './img/bank.jpg' %}" />
    </div>
</div>

<!-- Category filter form -->

<div class="w-1/4 pr-4">
    <h2 class="text-2xl font-bold mb-4">Categories</h2>
    <div class="space-y-2">
        <a href="{% url 'home' %}" class="block text-white hover:underline">All Categories</a>
        {% for category in categories %}
        <a href="{% url 'books_filter' book_category=category %}" class="block text-white hover:underline">{{ category }}</a>
        {% endfor %}
    </div>
</div>



<!-- Display books as cards -->
<div class="container mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for book in books %}
        <div class="bg-white rounded-lg overflow-hidden shadow-md">
            {% if book.image %}
            <img src="{{ book.image.url }}" alt="{{ book.title }} Image" class="w-full h-32 object-cover">
            {% else %}
            <p>No image available.</p>
            {% endif %}

            <div class="p-4">
                <h2 class="font-bold text-lg">{{ book.title }}</h2>
                <p class="text-gray-600">{{ book.description }}</p>
                <p class="text-blue-500 font-bold mt-2">${{ book.price }}</p>
                <p class="text-gray-500">{{ book.category }}</p>
            </div>
            <a href="{% url 'book_detail' book_id=book.id %}" class="text-blue-500 hover:underline">View Details</a>
        </div>
    {% endfor %}
</div>

<script>
    function submitForm() {
        document.getElementById("categoryFilterForm").submit();
    }
</script>

{% endblock %}
